<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flying Moussakats - Athens Ultimate Frisbee</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- Favicon (Team Logo) -->
    <link rel="icon" href="https://i.imgur.com/2RQ5hYh.png">

    <style>
        body { font-family: 'Poppins', sans-serif; scroll-behavior: smooth; }
        .text-gradient { background: linear-gradient(45deg, #3b82f6, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .fade-in-section { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .fade-in-section.is-visible { opacity: 1; transform: translateY(0); }
        .gemini-button::after { content: '✨'; margin-left: 0.5rem; }
        /* Style for loading spinner */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #8b5cf6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">

    <!-- Header -->
    <header id="header" class="bg-gray-900 bg-opacity-80 backdrop-blur-md fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#" class="flex items-center gap-3 text-2xl font-bold text-white tracking-wider">
                <!-- LOGO -->
                <img src="https://i.imgur.com/2RQ5hYh.png" alt="Flying Moussakats Logo" class="h-12">
                <span>Flying <span class="text-blue-400">Moussakats</span></span>
            </a>
            <nav class="hidden md:flex space-x-8">
                <a href="#about" class="hover:text-blue-400 transition-colors">About</a>
                <a href="#team" class="hover:text-blue-400 transition-colors">The Team</a>
                <a href="#training" class="hover:text-blue-400 transition-colors">Training Hub</a>
                <a href="#gallery" class="hover:text-blue-400 transition-colors">Gallery</a>
                <a href="#join" class="hover:text-blue-400 transition-colors">Join Us</a>
            </nav>
            <a href="#join" class="hidden md:block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-5 rounded-lg shadow-lg transition-transform transform hover:scale-105">
                Get In Touch
            </a>
            <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#about" class="block py-2 px-6 text-sm hover:bg-gray-800">About</a>
            <a href="#team" class="block py-2 px-6 text-sm hover:bg-gray-800">The Team</a>
            <a href="#training" class="block py-2 px-6 text-sm hover:bg-gray-800">Training Hub</a>
            <a href="#gallery" class="block py-2 px-6 text-sm hover:bg-gray-800">Gallery</a>
            <a href="#join" class="block py-2 px-6 text-sm hover:bg-gray-800">Join Us</a>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section con Video de Fondo -->
        <section class="h-screen relative flex items-center justify-center text-center overflow-hidden">
            <!-- Contenedor del video -->
            <div class="absolute top-0 left-0 w-full h-full z-0">
                <video playsinline autoplay muted loop class="w-full h-full object-cover">
                    <!-- VIDEO ACTUALIZADO CON EL ENLACE DE IMGUR PARA LA PRUEBA -->
                    <source src="https://i.imgur.com/8lOf53v.mp4" type="video/mp4">
                    Your browser does not support HTML5 video.
                </video>
                <!-- Capa oscura sobre el video para que el texto sea legible -->
                <div class="absolute top-0 left-0 w-full h-full bg-black opacity-50"></div>
            </div>
            
            <!-- Contenido de la sección (título, texto, botones) -->
            <div class="relative z-10 px-4">
                <h1 class="text-5xl md:text-7xl font-black text-white uppercase tracking-tighter">
                    Defying Gravity <br class="hidden md:block"> on the <span class="text-gradient">Athenian Riviera</span>
                </h1>
                <p class="mt-4 text-lg md:text-xl max-w-3xl mx-auto text-gray-300">
                    We are the Flying Moussakats, Athens' most active and passionate Ultimate Frisbee team. We live for the layout, the sky, and the perfect throw.
                </p>
                <div class="mt-8 flex justify-center gap-4">
                    <a href="#join" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-xl transition-transform transform hover:scale-105 text-lg">
                        Join The Team
                    </a>
                    <a href="#about" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-lg shadow-xl transition-transform transform hover:scale-105 text-lg">
                        Learn More
                    </a>
                </div>
            </div>
        </section>

        <!-- About Us Section -->
        <section id="about" class="py-20 fade-in-section">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-white">Our Story</h2>
                    <p class="text-blue-400 font-semibold mt-2">More Than Just a Team</p>
                </div>
                <div class="flex flex-col md:flex-row items-center gap-10">
                    <div class="md:w-1/2">
                        <img src="https://placehold.co/600x400/374151/ffffff?text=Team+Huddle" alt="Team discussing strategy" class="rounded-xl shadow-2xl w-full">
                    </div>
                    <div class="md:w-1/2">
                        <h3 class="text-2xl font-bold text-white mb-4">From a Beach Dream to a Competitive Force</h3>
                        <p class="mb-4 text-gray-300 leading-relaxed">
                            Founded over fifteen years ago by a group of international enthusiasts, our team has become a cornerstone of Ultimate in Greece. Our name, the <strong class="text-white">Flying Moussakats</strong>, is a playful nod to our Greek home and our agile, cat-like reflexes on the field.
                        </p>
                        <p class="text-gray-300 leading-relaxed">
                            We train on the beautiful beaches of Paleo Faliro, where the sand and sea inspire our dynamic style of play. We're a diverse mix of locals and expats, united by our love for the sport and the spirit of the game.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- The Team Section -->
        <section id="team" class="py-20 bg-gray-800 fade-in-section">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-white">The Spirit of the Moussakats</h2>
                    <p class="text-purple-400 font-semibold mt-2">Commitment, Community, Competition</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8 text-center">
                    <div class="bg-gray-900 p-8 rounded-xl shadow-lg transform hover:-translate-y-2 transition-transform">
                        <div class="text-purple-400 mb-4">
                            <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-1a6 6 0 00-5.197-5.975M15 21h3a2 2 0 002-2v-2a2 2 0 00-2-2h-3m-6.045-4.472A4 4 0 0112 11.25a4 4 0 014.045-1.722"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-2">International Community</h3>
                        <p class="text-gray-400">Our strength comes from our diversity. We welcome players from all over the world, creating a rich and supportive family.</p>
                    </div>
                    <div class="bg-gray-900 p-8 rounded-xl shadow-lg transform hover:-translate-y-2 transition-transform">
                        <div class="text-purple-400 mb-4">
                            <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-2">High-Energy Play</h3>
                        <p class="text-gray-400">We are known for our fast-paced, athletic style. Beach training gives us an edge in stamina and agility that we bring to every game.</p>
                    </div>
                    <div class="bg-gray-900 p-8 rounded-xl shadow-lg transform hover:-translate-y-2 transition-transform">
                         <div class="text-purple-400 mb-4">
                             <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-2">Spirit of the Game</h3>
                        <p class="text-gray-400">We compete hard but always with respect. Fair play and sportsmanship are the principles we live and play by.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Training Hub Section -->
        <section id="training" class="py-20 fade-in-section">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-white">AI Training Hub</h2>
                    <p class="text-blue-400 font-semibold mt-2">Drills and Strategies Generated by Gemini</p>
                </div>
                <div class="max-w-4xl mx-auto bg-gray-800 rounded-xl shadow-2xl p-8">
                    <div class="mb-6">
                        <label for="drill-category" class="block text-lg font-semibold text-white mb-2">Select a category to get started:</label>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <button onclick="generateDrill('Throwing Drills')" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition">Throwing</button>
                            <button onclick="generateDrill('Cutting Drills')" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition">Cutting</button>
                            <button onclick="generateDrill('Defensive Positioning')" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition">Defense</button>
                            <button onclick="generateDrill('Team Strategy')" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition">Strategy</button>
                        </div>
                    </div>
                    <div id="drill-output" class="mt-6 bg-gray-900 p-6 rounded-lg min-h-[200px] prose prose-invert max-w-none prose-p:text-gray-300 prose-headings:text-white prose-strong:text-white">
                        <p class="text-gray-400">Your generated drills will appear here...</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Gallery Section -->
        <section id="gallery" class="py-20 bg-gray-800 fade-in-section">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-white">Moments in Motion</h2>
                    <p class="text-blue-400 font-semibold mt-2">Capturing the Action</p>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="grid gap-4">
                        <div>
                            <img class="h-auto max-w-full rounded-lg shadow-lg transform hover:scale-105 transition-transform" src="https://placehold.co/500x750/374151/ffffff?text=Greatest" alt="Player catching the disc">
                        </div>
                        <div>
                            <img class="h-auto max-w-full rounded-lg shadow-lg transform hover:scale-105 transition-transform" src="https://placehold.co/500x300/374151/ffffff?text=Layout+Catch" alt="Player making a layout catch">
                        </div>
                    </div>
                    <div class="grid gap-4">
                        <div>
                            <img class="h-auto max-w-full rounded-lg shadow-lg transform hover:scale-105 transition-transform" src="https://placehold.co/500x350/374151/ffffff?text=Team+Cheer" alt="Team celebrating a point">
                        </div>
                        <div>
                            <img class="h-auto max-w-full rounded-lg shadow-lg transform hover:scale-105 transition-transform" src="https://placehold.co/500x700/374151/ffffff?text=Sky+Battle" alt="Two players jumping for the disc">
                        </div>
                    </div>
                    <div class="grid gap-4">
                        <div>
                            <img class="h-auto max-w-full rounded-lg shadow-lg transform hover:scale-105 transition-transform" src="https://placehold.co/500x700/374151/ffffff?text=Huck" alt="Player throwing a long pass (huck)">
                        </div>
                        <div>
                            <img class="h-auto max-w-full rounded-lg shadow-lg transform hover:scale-105 transition-transform" src="https://placehold.co/500x350/374151/ffffff?text=Defense" alt="An intense defensive play">
                        </div>
                    </div>
                     <div class="grid gap-4">
                        <div>
                            <img class="h-auto max-w-full rounded-lg shadow-lg transform hover:scale-105 transition-transform" src="https://placehold.co/500x300/374151/ffffff?text=Beach+Practice" alt="Team practicing on the beach">
                        </div>
                        <div>
                            <img class="h-auto max-w-full rounded-lg shadow-lg transform hover:scale-105 transition-transform" src="https://placehold.co/500x750/374151/ffffff?text=Victory" alt="Team photo after a win">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Join Us Section -->
        <section id="join" class="py-20 fade-in-section">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl font-bold text-white">Ready to Fly?</h2>
                <p class="mt-4 text-lg max-w-2xl mx-auto text-gray-300">
                    Whether you're a seasoned veteran or have never touched a disc, we're always looking for new members with a positive attitude and a passion for sport. Come to one of our open practices!
                </p>
                <div class="mt-8 flex justify-center flex-wrap gap-4">
                    <a href="mailto:contact@flyingmoussakats.gr?subject=Interested%20in%20Joining" 
                       class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-xl transition-transform transform hover:scale-105 text-lg inline-block">
                        Contact Us & Join
                    </a>
                    <button id="recipe-button" class="gemini-button bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg shadow-xl transition-transform transform hover:scale-105 text-lg inline-block">
                        Get a Post-Game Moussaka Recipe
                    </button>
                </div>
                <p class="mt-4 text-sm text-gray-400">Drop us an email, or generate a recipe while you think about it!</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900">
        <div class="container mx-auto px-6 py-8">
            <div class="flex flex-col md:flex-row justify-between items-center text-center md:text-left">
                <div class="mb-4 md:mb-0">
                    <p class="text-lg font-bold">Flying Moussakats Ultimate</p>
                    <p class="text-gray-400">Athens, Greece</p>
                </div>
                <div class="flex justify-center space-x-6 mb-4 md:mb-0">
                    <!-- Social Media links would go here -->
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.048-1.024-.06-1.378-.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 016.345 2.525c.636-.247 1.363-.416 2.427.465C9.795 2.013 10.148 2 12.315 2zm-1.16 2.32c-1.042.043-1.65.2-2.122.385a3.06 3.06 0 00-1.15.748 3.06 3.06 0 00-.748 1.15c-.185.472-.342 1.08-.385 2.122-.043 1.007-.054 1.35-.054 3.73s.011 2.723.054 3.73c.043 1.042.2 1.65.385 2.122a3.06 3.06 0 00.748 1.15 3.06 3.06 0 001.15.748c.472.185 1.08.342 2.122.385 1.007.043 1.35.054 3.73.054s2.723-.011 3.73-.054c1.042-.043 1.65-.2 2.122-.385a3.06 3.06 0 001.15-.748 3.06 3.06 0 00.748-1.15c.185-.472.342-1.08.385-2.122.043-1.007.054-1.35.054-3.73s-.011-2.723-.054-3.73c-.043-1.042-.2-1.65-.385-2.122a3.06 3.06 0 00-.748-1.15 3.06 3.06 0 00-1.15-.748c-.472-.185-1.08-.342-2.122-.385-1.007-.043-1.35-.054-3.73-.054s-2.723.011-3.73.054zm2.88 1.624a4.348 4.348 0 100 8.696 4.348 4.348 0 000-8.696zM12 15.15a3.15 3.15 0 110-6.3 3.15 3.15 0 010 6.3zm3.438-7.908a1.031 1.031 0 11-2.062 0 1.031 1.031 0 012.062 0z" clip-rule="evenodd" /></svg>
                    </a>
                </div>
                <div class="text-sm text-gray-500">
                    &copy; 2024 Flying Moussakats. All Rights Reserved.
                </div>
            </div>
        </div>
    </footer>

    <!-- Recipe Modal -->
    <div id="recipe-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4">
        <div class="bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-8 relative">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <div id="modal-content" class="prose prose-invert max-w-none prose-p:text-gray-300 prose-headings:text-white prose-strong:text-white">
                <!-- RECETA DE MOUSSAKA INTEGRADA Y CORREGIDA -->
                <h2 class="text-3xl font-bold text-center mb-4">The Ultimate Flying Moussakats Fuel-Up!</h2>
                <p class="text-center text-lg mb-6">After a tough game of layouts and skies, you've earned a champion's meal. Time to build the legendary Greek casserole that's as epic as your greatest plays!</p>
                
                <h3 class="text-2xl font-semibold mt-6 mb-3">The Players (Ingredients)</h3>
                
                <strong>For the Meat Sauce (The Offensive Line):</strong>
                <ul class="list-disc list-inside mt-2 mb-4">
                    <li>2 tbsp olive oil</li>
                    <li>1 kg (2.2 lbs) ground beef or lamb (for power!)</li>
                    <li>2 large onions, finely chopped</li>
                    <li>3-4 cloves garlic, minced</li>
                    <li>1 can (400g / 14 oz) chopped tomatoes</li>
                    <li>2 tbsp tomato paste</li>
                    <li>1/2 cup dry red wine (optional, but adds depth)</li>
                    <li>1 tsp cinnamon (the secret weapon!)</li>
                    <li>1/2 tsp allspice</li>
                    <li>Salt and freshly ground black pepper to taste</li>
                    <li>A handful of fresh parsley, chopped</li>
                </ul>

                <strong>For the Veggie Layers (The Midfield):</strong>
                <ul class="list-disc list-inside mt-2 mb-4">
                    <li>3-4 large eggplants, sliced 1 cm thick</li>
                    <li>2-3 large potatoes, peeled and sliced 1 cm thick</li>
                    <li>Olive oil for frying/baking</li>
                    <li>Salt</li>
                </ul>

                <strong>For the Béchamel Topping (The Glorious End Zone Spike):</strong>
                 <ul class="list-disc list-inside mt-2 mb-4">
                    <li>1.5 liters (6 cups) milk</li>
                    <li>150g (10 tbsp) butter</li>
                    <li>150g (1.2 cups) all-purpose flour</li>
                    <li>A pinch of nutmeg</li>
                    <li>2 egg yolks</li>
                    <li>150g (1.5 cups) grated Graviera or Parmesan cheese</li>
                    <li>Salt and white pepper</li>
                </ul>
                
                <h3 class="text-2xl font-semibold mt-6 mb-3">The Game Plan (Instructions)</h3>
                
                <ol class="list-decimal list-inside space-y-4">
                    <li><strong>Prep your Veggies:</strong> Lay the eggplant and potato slices on baking sheets. Brush with olive oil, sprinkle with salt, and bake at 200°C (400°F) for about 20 minutes, until softened and slightly browned. This is way easier than frying! Set aside.</li>
                    <li><strong>Build the Meat Sauce:</strong> In a large pot, heat the 2 tbsp of olive oil. Sauté the onions until soft, then add the garlic for another minute. Add the ground meat and cook until browned. Drain any excess fat. Pour in the wine and let it evaporate. Stir in the tomato paste, canned tomatoes, cinnamon, allspice, salt, and pepper. Simmer for about 30 minutes, until the sauce has thickened. Stir in the fresh parsley at the end.</li>
                    <li><strong>Craft the Legendary Béchamel:</strong> In a saucepan, melt the butter over medium heat. Whisk in the flour and cook for 1-2 minutes to create a roux. Gradually pour in the warm milk, whisking constantly to avoid lumps. Continue to cook, stirring, until the sauce thickens. Remove from heat. Season with salt, pepper, and nutmeg. Let it cool slightly, then whisk in the egg yolks and the grated cheese.</li>
                    <li><strong>Assemble Your Masterpiece:</strong> Preheat your oven to 180°C (350°F). In a large baking dish, create the layers. Start with a layer of potatoes, followed by a layer of eggplants. Top with the entire meat sauce mixture. Add another layer of eggplants. Finally, pour the glorious béchamel sauce over the top, spreading it evenly.</li>
                    <li><strong>Bake to Glory:</strong> Bake for 45-60 minutes, or until the top is a beautiful golden-brown color. <strong>CRUCIAL STEP:</strong> Let the moussaka rest for at least 30-40 minutes before serving. This allows it to set, so you can cut perfect, clean slices. Don't skip this, or you'll have a delicious mess!</li>
                    <li><strong>Victory Meal:</strong> Cut into squares, serve, and enjoy your well-deserved, epic Moussaka!</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        // --- Gemini API Logic (For Training Hub only) ---
        const API_KEY = ""; // Provided by the environment

        async function callGemini(prompt, outputElement) {
            outputElement.innerHTML = '<div class="loader"></div>'; // Show loader
            
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`;
            const payload = {
                contents: [{ role: "user", parts: [{ text: prompt }] }]
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API Error: ${response.statusText}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts) {
                    let text = result.candidates[0].content.parts[0].text;
                    // Basic Markdown to HTML conversion
                    text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>'); // Bold
                    text = text.replace(/\n\s*-\s/g, '<li>'); // List items
                    text = text.replace(/^(#+)\s*(.*)/gm, (match, hashes, content) => {
                        const level = hashes.length;
                        return `<h${level + 1} class="text-white">${content}</h${level}>`;
                    });
                     text = text.replace(/### (.*)/g, '<h3 class="text-xl font-bold mt-4 mb-2">$1</h3>');
                    text = text.replace(/## (.*)/g, '<h2 class="text-2xl font-bold mt-6 mb-3">$1</h2>');
                    text = text.replace(/\n/g, '<br>');
                    outputElement.innerHTML = text;
                } else {
                    throw new Error("No content received from API.");
                }

            } catch (error) {
                console.error("Gemini API call failed:", error);
                outputElement.innerHTML = `<p class="text-red-400">Sorry, something went wrong. Please try again later. (${error.message})</p>`;
            }
        }

        function generateDrill(category) {
            const prompt = `Generate 3 creative and effective Ultimate Frisbee drills for improving '${category}'. For each drill, provide a clear Objective, Setup instructions, and step-by-step Execution guidance. The tone should be encouraging for a mixed-skill level team in Athens called the 'Flying Moussakats'. Format the response with Markdown headings for each drill title and bolded subheadings for Objective, Setup, and Execution.`;
            const drillOutput = document.getElementById('drill-output');
            callGemini(prompt, drillOutput);
        }

        // --- Moussaka Recipe Modal Logic ---
        document.getElementById('recipe-button').addEventListener('click', () => {
            const modal = document.getElementById('recipe-modal');
            modal.classList.remove('hidden');
        });

        function closeModal() {
            document.getElementById('recipe-modal').classList.add('hidden');
        }

        // --- Standard Page Logic ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
        document.querySelectorAll('#mobile-menu a, #mobile-menu-button').forEach(link => {
            link.addEventListener('click', () => {
                if(link.tagName === 'A') {
                   mobileMenu.classList.add('hidden');
                }
            });
        });

        window.addEventListener('scroll', () => {
            const header = document.getElementById('header');
            if (window.scrollY > 50) {
                header.classList.add('py-2');
                header.classList.remove('py-3');
            } else {
                header.classList.add('py-3');
                header.classList.remove('py-2');
            }
        });
        
        const sections = document.querySelectorAll('.fade-in-section');
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('is-visible');
            });
        }, { threshold: 0.1 });
        sections.forEach(section => observer.observe(section));

    </script>
</body>
</html>
